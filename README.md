# Тестовое задание для стажера в юнит Market Intelligence

## Возможности JSON API сервиса
- Создать новое голосование с разными вариантами ответов 
- Отдать свой голос за какой-либо вариант (можно отвечать на несколько ответов сразу, если голосование с множественным выбором)
- Получить текущий результат голосования

## Методы взаимодействия с сервисом
- POST /api/createPoll/ создать голосование c вариантами ответов
- POST /api/poll/ проголосовать за конкретный вариант: <poll_id, choice_id>
- POST /api/getResult/ получить результат по конкретному голосованию: <poll_id>

### Запуск сервиса
запуск сервиса через команду python manage.py runserver в директории проекта
### Формат данных

- Для создания голосования методом POST /api/createPoll/ необоходимо передать вопрос title, а также ответы с указанием их порядкового номера в голосовании, текста ответа и число голосов, равное нулю
``` {
"poll": {
"title": "Лучший мотор?",
"answers": [
                {   
                    "choice_id": 1,
                    "answer": "1-JZ",
                    "votes": 0
                }
]
}
}

```


- Для того, чтобы проголосовать через метод POST /api/poll/, необходимо передать передать poll_id и choice_id ответа с дополнительным ключом на входе poll_answers в формате json
```
{
"poll_answers":
{
"poll_id": 1,
"choice_id": ["1", "2", "5"]
}
}

```
Массив choice_id может содержать несколько элементов, если голосования с множественным выбором

- Для получения результатов голосования методом необходимо сделать POST запрос с передачей poll_id в формате json с дополнитлеьным ключом на входе
```
{
"poll_results":
{
"poll_id": 1
}
}
```

### Усложнения
- Предложение по защите от накруток: Django предоставляет возможность идентификации ip юзера:
```
ip = models.GenericIPAddressField(verbose_name='IP пользователя')
```
затем в представлениях views.py создать функцию-обработчик, отслеживающую наличие очереденого юзера в списке проголосовавших в БД 
